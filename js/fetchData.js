function fetchData(){const e=document.getElementById("getDataButton"),t=document.getElementById("dataContainer");e.addEventListener("click",()=>{t.innerHTML="",addElementsForUI()})}async function sendGetRequest(){let e=await fetch("printSurvey.php");if(e.ok)return await e.json();console.log("Error"+e.status+" "+e.statusText)}async function addElementsForUI(){let e=await sendGetRequest();"errorMessage"in e?noSuchElements():e.forEach(e=>addElement(e))}function addElement(e){const t=document.getElementById("dataContainer"),n=document.createElement("div");let a=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div");d.innerHTML=e.name,c.innerHTML=e.email,o.innerHTML=e.activities,i.innerHTML=e.agreement?"Согласен на рассылку":"Не согласен на рассылку",n.classList.add("data-form__data-element"),a.classList.add("data-content"),d.classList.add("data-form__text"),c.classList.add("data-form__text"),o.classList.add("data-form__text"),i.classList.add("data-form__text"),a.append(d),a.append(c),a.append(o),a.append(i),n.append(a),t.append(n)}function noSuchElements(){const e=document.getElementById("dataContainer");let t=document.createElement("div");t.innerHTML="Элементов не найдено",e.append(t)}window.addEventListener("load",function(){fetchData()});